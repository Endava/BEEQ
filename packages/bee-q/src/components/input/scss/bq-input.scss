/* -------------------------------------------------------------------------- */
/*                                Input styles                */
/* -------------------------------------------------------------------------- */

@import './bq-input.variables';

:host {
  @apply block;
}

/* -------------------------------------------------------------------------- */
/*                            Label and Helper text                           */
/* -------------------------------------------------------------------------- */

.bq-input--label {
  @apply mb-[--bq-input--label-margin-bottom] flex flex-grow items-center gap-[--var(--bq-input--gap-label)];
  @apply text-[length:--bq-input--label-text-size] text-[color:--bq-input--label-text-color];
}

.bq-input--helper-text {
  @apply mt-[--bq-input--helper-margin-top] text-[length:--bq-input--helper-text-size] text-[color:--bq-input--helper-text-color];
}

.bq-input--helper-text.validation-error {
  @apply text-text-danger;
}

.bq-input--helper-text.validation-success {
  @apply text-text-success;
}

.bq-input--helper-text.validation-warning {
  @apply text-text-warning;
}

/* -------------------------------------------------------------------------- */
/*                             Input group control                            */
/* -------------------------------------------------------------------------- */

.bq-input--control {
  @apply flex w-full items-center transition-[border-color,box-shadow];
  // Border
  @apply rounded-[--bq-input--border-radius] border-[length:--bq-input--border-width] border-[color:--bq-input--border-color];
  // Padding
  @apply py-[--bq-input--paddingY] pe-[--bq-input--pading-end] ps-[--bq-input--pading-start];
  // Text
  @apply text-[length:--bq-input--text-size] text-[color:--bq-input--text-color] placeholder:text-[color:--bq-input--text-placeholder-color];
  // Hover
  @apply [&:not(:focus-within):not(.disabled)]:hover:border-[color:--bq-input--border-color-hover];

  border-style: var(--bq-input--border-style);

  // Focus
  &:not(.disabled) {
    @apply focus-within:border-[color:--bq-input--border-color-focus] focus-within:outline-none focus-within:ring-1 focus-within:ring-[color:--bq-input--border-color-focus];
  }
}

.bq-input--control.disabled {
  @apply cursor-not-allowed border-[color:--bq-stroke--tiertary-disabled] bg-ui-secondary-disabled;
}

/* ------------------------------- Validation ------------------------------- */

.bq-input--control.validation-error {
  @apply border-stroke-danger focus-within:border-stroke-danger-active focus-within:ring-stroke-danger-active [&:not(:focus-within)]:hover:border-stroke-danger-hover;
}

.bq-input--control.validation-success {
  @apply border-stroke-success focus-within:border-stroke-success-active focus-within:ring-stroke-success-active [&:not(:focus-within)]:hover:border-stroke-success-hover;
}

.bq-input--control.validation-warning {
  @apply border-stroke-warning focus-within:border-stroke-warning-active focus-within:ring-stroke-warning-active [&:not(:focus-within)]:hover:border-stroke-warning-hover;
}

/* -------------------------------------------------------------------------- */
/*                              Native HTML Input                             */
/* -------------------------------------------------------------------------- */

.bq-input--control__input {
  @apply flex-auto cursor-[inherit] bg-[inherit] font-[inherit] text-[length:inherit];
  @apply m-0 min-h-[--bq-input--icon-size] min-w-[0] border-none p-0 focus:outline-none focus-visible:outline-none;

  box-shadow: none;
  font-weight: inherit;

  &::-webkit-datetime-edit-fields-wrapper,
  &::-webkit-datetime-edit,
  &::-webkit-datetime-edit-year-field,
  &::-webkit-datetime-edit-month-field,
  &::-webkit-datetime-edit-day-field,
  &::-webkit-datetime-edit-hour-field,
  &::-webkit-datetime-edit-minute-field,
  &::-webkit-datetime-edit-second-field,
  &::-webkit-datetime-edit-millisecond-field,
  &::-webkit-datetime-edit-meridiem-field {
    @apply p-0;
  }

  &[type='search']::-moz-search-cancel,
  &[type='search']::-webkit-search-decoration,
  &[type='search']::-webkit-search-cancel-button,
  &[type='search']::-webkit-search-results-button,
  &[type='search']::-webkit-search-results-decoration {
    @apply hidden;
  }
}

/* -------------------------------------------------------------------------- */
/*                                Clear button                                */
/* -------------------------------------------------------------------------- */

.bq-input--control__clear::part(button) {
  @apply h-auto rounded-xs border-none p-0;
}

/* -------------------------------------------------------------------------- */
/*                              Prefix and suffix                             */
/* -------------------------------------------------------------------------- */

.bq-input--control__prefix,
.bq-input--control__suffix {
  @apply pointer-events-none flex items-center text-[color:var(--bq-input--text-color)];
}

.bq-input--control__prefix {
  @apply me-[--bq-input--gap];
}

.bq-input--control__suffix {
  @apply ms-[--bq-input--gap];
}

/* -------------------------------------------------------------------------- */
/*                         Slotted and internal icons                         */
/* -------------------------------------------------------------------------- */

bq-icon,
::slotted(bq-icon) {
  --bq-icon--size: var(--bq-input--icon-size) !important;
}
