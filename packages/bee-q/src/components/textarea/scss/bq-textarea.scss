/* -------------------------------------------------------------------------- */
/*                                Textarea styles                */
/* -------------------------------------------------------------------------- */

@import './bq-textarea.variables';

:host {
  @apply block w-full;
}

/* -------------------------------------------------------------------------- */
/*                        Native HTML Textarea control                        */
/* -------------------------------------------------------------------------- */
.bq-textarea--input {
  @apply h-[inherit] flex-auto resize-y rounded-s border border-solid border-stroke-tiertary;
  // Padding
  @apply py-[--bq-textarea--paddingY] pe-[--bq-textarea--padding-end] ps-[--bq-textarea--padding-start];
  // Text
  @apply text-m text-text-primary placeholder:text-text-secondary-disabled;
  // Transition
  @apply transition-colors ease-in-out;
  // Hover
  @apply [&:not([disabled]):not(:focus-within)]:hover:border-stroke-brand-hover;
  // Disabled
  @apply disabled:cursor-not-allowed disabled:border-stroke-tiertary-disabled disabled:bg-ui-secondary-disabled;
  // Focus
  &:not([disabled]):focus-within {
    --bq-ring-width: 1px;
    --bq-ring-offset-width: 0;
    --bq-ring-color-focus: theme(colors.stroke.brand);

    @apply focus border-[color:--bq-ring-color-focus];
  }
}

/* ------------------------------- Validation ------------------------------- */

.bq-textarea--input.validation-error {
  @apply border-stroke-danger [&:not(.disabled):not(:focus-within)]:hover:border-stroke-danger-hover;

  &:not(.disabled):focus-within {
    --bq-ring-color-focus: theme('colors.stroke.danger-active');
    @apply border-stroke-danger-active;
  }
}

.bq-textarea--input.validation-success {
  @apply border-stroke-success [&:not(.disabled):not(:focus-within)]:hover:border-stroke-success-hover;

  &:not(.disabled):focus-within {
    --bq-ring-color-focus: theme('colors.stroke.success-active');
    @apply border-stroke-success-active;
  }
}

.bq-textarea--input.validation-warning {
  @apply border-stroke-warning [&:not(.disabled):not(:focus-within)]:hover:border-stroke-warning-hover;

  &:not(.disabled):focus-within {
    --bq-ring-color-focus: theme('colors.stroke.warning-active');
    @apply border-stroke-warning-active;
  }
}

/* -------------------------------------------------------------------------- */
/*                                 Helper text                                */
/* -------------------------------------------------------------------------- */

.bq-textarea--helper.validation-error {
  @apply text-text-danger;
}

.bq-textarea--helper.validation-success {
  @apply text-text-success;
}

.bq-textarea--helper.validation-warning {
  @apply text-text-warning;
}

/* ----------------------------- Helper counter ----------------------------- */

/** Apply a disabled text color style to the textarea counter when the validation is none. */
.bq-textarea--helper[class~='validation-none'] {
  .bq-textarea--helper__counter {
    @apply text-text-secondary-disabled;
  }
}
